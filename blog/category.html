---
layout: default
title: Category Search
---

<div id="post-preview-container"></div>
<script type="text/javascript">
  
  $(document).ready(function(){

    var template = '<div class="post-preview"><h2 class="post-preview-title"><a href="{url}">{title}</a></h2></div>';
    var searchTerm = getUrlVars()[0];

    fetch("https://www.minewyrtruman.com/search.json", {
            mode: "same-origin", // no-cors, *cors, same-origin
            cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
            credentials: "same-origin"
        }).then(results => {
            return results.json();
        }).then(function(posts) {
            foreach(post in posts) {
                if(post.description.contains(searchTerm)) {
                    $('#post-preview-container').append(post.title);
                }
            }
        });
  });
  
    function getUrlVars()
    {
        var vars = [], hash;
        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for(var i = 0; i < hashes.length; i++)
        {
            hash = hashes[i].split('=');
            vars.push(hash[0]);
            vars[hash[0]] = hash[1];
        }
        return vars;
    }
</script>